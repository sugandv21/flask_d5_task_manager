{% extends "base.html" %}

{% block title %}All Tasks{% endblock %}

{% block content %}
<h1>Tasks</h1>
<table border="1" cellpadding="8" cellspacing="0">
    <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Due Date</th>
        <th>Status</th>
        <th>Actions</th>
    </tr>
    {% for task in tasks %}
    <tr>
        <td>{{ task.id }}</td>
        <td>{{ task.title }}</td>
        <td>{{ task.due_date }}</td>
        <td>{{ "Done" if task.is_done else "Pending" }}</td>
        <td>
            <a href="{{ url_for('main.toggle_task', id=task.id) }}">
                {% if task.is_done %}Mark Undone{% else %}Mark Done{% endif %}
            </a> |
            <a href="{{ url_for('main.delete_task', id=task.id) }}" onclick="return confirm('Delete this task?')">Delete</a>
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
